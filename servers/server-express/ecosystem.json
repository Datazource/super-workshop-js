{
  /**
   * Application configuration section
   * http://pm2.keymetrics.io/docs/usage/application-declaration/
   */
  "apps": [
    {
      "name": "server:express",
      "script": "server.js",
      "node_args": "--harmony",
      "watch": ["api"],
      "ignore_watch": ["node_modules"],
      "watch_options": {
        "followSymlinks": false
      },
      "env": {
        "COMMON_VARIABLE": "true"
      },
      "env_dev": {
        "NODE_ENV": "dev",
        "NEDB_PATH": "./data"
      },
      "env_staging": {
        "NODE_ENV": "staging",
        "NEDB_PATH": "./data"
      },
      "env_production": {
        "NODE_ENV": "production",
        "NEDB_PATH": "./data"
      }
    }
  ],

  /**
   * Deployment section
   * http://pm2.keymetrics.io/docs/usage/deployment/
   */
  "deploy": {
    "dev": {
      "user": "node",
      "host": "0.0.0.0",
      "ref": "origin/master",
      "repo": "git@github.com:mhaidarh/super-workshop-js.git",
      "path": "~/www/super-workshop-js/dev",
      "post-deploy" : "cd servers/server-express && npm install && pm2 startOrRestart ecosystem.json --env dev",
      "env": {
        "NODE_ENV": "dev"
      }
    },
    "staging": {
      "user": "node",
      "host": "0.0.0.0",
      "ref": "origin/master",
      "repo": "git@github.com:mhaidarh/super-workshop-js.git",
      "path": "~/www/super-workshop-js/staging",
      "post-deploy" : "cd servers/server-express && npm install && pm2 startOrRestart ecosystem.json --env staging",
      "env": {
        "NODE_ENV": "dev"
      }
    },
    "production": {
      "user": "node",
      "host": "0.0.0.0",
      "ref": "origin/master",
      "repo": "git@github.com:mhaidarh/super-workshop-js.git",
      "path": "~/www/super-workshop-js/production",
      "post-deploy" : "cd servers/server-express && npm install && pm2 startOrRestart ecosystem.json --env production",
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
